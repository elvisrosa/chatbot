{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Message } from 'src/app/models/Message';\nimport { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/ws.service\";\nimport * as i2 from \"src/app/services/chat.service\";\nimport * as i3 from \"src/app/services/utils.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"messagesContainer\"];\nfunction ChatComponent_div_0_div_24_i_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"i\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.util.getStatusIcon(message_r4.status));\n  }\n}\nfunction ChatComponent_div_0_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"div\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 24)(5, \"span\", 25);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, ChatComponent_div_0_div_24_i_8_Template, 2, 1, \"i\", 26);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"outgoing\", message_r4.to === (ctx_r3.activeContact == null ? null : ctx_r3.activeContact.id));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r4.content == null ? null : message_r4.content.body);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, message_r4.timestamp, \"hh:mm a\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", true);\n  }\n}\nfunction ChatComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"i\", 6);\n    i0.ɵɵtext(5, \"arrow_back\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵelement(7, \"img\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 9)(9, \"h3\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 10);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 11)(14, \"i\", 6);\n    i0.ɵɵtext(15, \"videocam\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"i\", 6);\n    i0.ɵɵtext(17, \"call\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"i\", 6);\n    i0.ɵɵtext(19, \"more_vert\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 12);\n    i0.ɵɵtext(21, \"Hoy\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 13, 14);\n    i0.ɵɵtemplate(24, ChatComponent_div_0_div_24_Template, 9, 8, \"div\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 16)(26, \"div\", 17)(27, \"i\", 6);\n    i0.ɵɵtext(28, \"emoji_emotions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"i\", 6);\n    i0.ɵɵtext(30, \"attach_file\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 18)(32, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_div_0_Template_input_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.message.content = $event);\n    })(\"keyup.enter\", function ChatComponent_div_0_Template_input_keyup_enter_32_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.sendMessage());\n    })(\"keydown\", function ChatComponent_div_0_Template_input_keydown_32_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onTyping());\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_0_Template_div_click_33_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.sendMessage());\n    });\n    i0.ɵɵelementStart(34, \"i\", 6);\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"src\", ctx_r0.activeContact == null ? null : ctx_r0.activeContact.profilePicture, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.activeContact == null ? null : ctx_r0.activeContact.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.activeContact == null ? null : ctx_r0.activeContact.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.state);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.messages)(\"ngForTrackBy\", ctx_r0.trackByMessageId);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.message.content);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.newMessage ? \"send\" : \"mic\");\n  }\n}\nfunction ChatComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" Descarga la App disponible en la Play Store\\n\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class ChatComponent {\n  constructor(services_ws, ctS, util) {\n    this.services_ws = services_ws;\n    this.ctS = ctS;\n    this.util = util;\n    this.message = new Message();\n    this.messages = [];\n    this.isDarkMode = false;\n    this.sendMessage2 = new EventEmitter();\n    this.statusCurrentUser = '';\n    this.newMessage = \"\";\n    this.state = '';\n    this.isTyping = false;\n    this.subscriptions = new Subscription();\n    this.typingSubscription = new Subscription();\n  }\n  ngOnChanges(changes) {\n    if (changes['activeContact'] && this.activeContact) {\n      this.ctS.getMessages(this.activeContact.id).subscribe({\n        next: data => {\n          this.messages = data;\n        }\n      });\n    }\n  }\n  ngOnInit() {\n    this.services_ws.initializeWebSocketConnection();\n    this.subscriptions?.add(this.services_ws.message$.subscribe(msg => {\n      if (msg.from === this.activeContact?.id || msg.to === this.activeContact?.id) {\n        this.messages.unshift(msg);\n      }\n    }));\n  }\n  ngAfterViewChecked() {\n    this.typingSubscription?.unsubscribe();\n    this.typingSubscription = this.services_ws.typing$.subscribe(typingMsg => {\n      console.log('Devolvió un tipo ', typingMsg);\n      if (typingMsg === 'typing') {\n        this.state = 'Escribiendo...';\n        this.isTyping = true;\n        setTimeout(() => {\n          this.state = 'En línea';\n          this.isTyping = false;\n        }, 3000);\n      } else if (typingMsg === 'online') {\n        this.state = 'En línea';\n      } else {\n        this.state = this.util.formatLastSeen(this.activeContact?.lastSeen);\n      }\n    });\n    if (this.messagesContainer && this.messagesContainer.nativeElement) {\n      this.scrollToBottom();\n    }\n    // const bottom = this.messagesContainer.nativeElement.scrollHeight === this.messagesContainer.nativeElement.scrollTop + this.messagesContainer.nativeElement.clientHeight;\n    // if (bottom) {\n    //   const unreadMessages = this.messages.filter(msg => msg.status !== 'read');\n    //   console.log(unreadMessages)\n    //   const messageIdsToMarkAsRead = unreadMessages.map(msg => msg.id);\n    //   if (messageIdsToMarkAsRead.length > 0) {\n    //     this.ctS.markMessagesAsRead(messageIdsToMarkAsRead).subscribe(() => {\n    //       unreadMessages.forEach(msg => msg.status = 'read');\n    //     });\n    //   }\n    // }\n  }\n\n  scrollToBottom() {\n    try {\n      if (this.messagesContainer?.nativeElement) {\n        this.messagesContainer.nativeElement.scrollTop = this.messagesContainer.nativeElement.scrollHeight;\n      }\n    } catch (err) {\n      console.error('Error al hacer scroll:', err);\n    }\n  }\n  sendMessage() {\n    this.message.to = this.activeContact.id;\n    this.services_ws.sendMessage(this.message);\n    this.message = new Message();\n  }\n  trackByMessageId(index, message) {\n    return message.id; // o message.id si ese es el campo único\n  }\n\n  onTyping() {\n    if (this.activeContact) {\n      this.services_ws.sendTypingNotification(this.activeContact, 'typing');\n    }\n  }\n  ngOnDestroy() {\n    this.services_ws.disconnect();\n    this.subscriptions?.unsubscribe();\n    this.typingSubscription?.unsubscribe();\n  }\n  static {\n    this.ɵfac = function ChatComponent_Factory(t) {\n      return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.WsService), i0.ɵɵdirectiveInject(i2.ChatService), i0.ɵɵdirectiveInject(i3.UtilsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatComponent,\n      selectors: [[\"app-chat\"]],\n      viewQuery: function ChatComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messagesContainer = _t.first);\n        }\n      },\n      inputs: {\n        activeContact: \"activeContact\",\n        isDarkMode: \"isDarkMode\"\n      },\n      outputs: {\n        sendMessage2: \"sendMessage2\"\n      },\n      features: [i0.ɵɵNgOnChangesFeature],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"chat-area\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"chat-area\"], [1, \"chat-header\"], [1, \"chat-contact-info\"], [1, \"back-button\"], [1, \"material-icons\"], [1, \"contact-avatar\"], [3, \"src\", \"alt\"], [1, \"contact-details\"], [1, \"status\"], [1, \"chat-actions\"], [1, \"messages-date\"], [1, \"messages-container\"], [\"messagesContainer\", \"\"], [\"class\", \"message-wrapper\", 3, \"outgoing\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"chat-input-area\"], [1, \"input-actions\"], [1, \"message-input\"], [\"type\", \"text\", \"placeholder\", \"Escribe un mensaje\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\", \"keydown\"], [1, \"send-button\", 3, \"click\"], [1, \"message-wrapper\"], [1, \"message\"], [1, \"message-content\"], [1, \"message-meta\"], [1, \"message-time\"], [\"class\", \"material-icons status-icon\", 4, \"ngIf\"], [1, \"material-icons\", \"status-icon\"]],\n      template: function ChatComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ChatComponent_div_0_Template, 36, 8, \"div\", 0);\n          i0.ɵɵtemplate(1, ChatComponent_ng_container_1_Template, 2, 0, \"ng-container\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", ctx.activeContact);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.activeContact);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i4.DatePipe],\n      styles: [\".chat-area[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100vh;\\n}\\n\\n.chat-header[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    padding: 10px 16px;\\n    background-color: var(--color-primary);\\n    border-bottom: 1px solid #e0e0e0;\\n    z-index: 2;\\n}\\n\\n.chat-contact-info[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.back-button[_ngcontent-%COMP%] {\\n    display: none;\\n    margin-right: 15px;\\n}\\n\\n.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    cursor: pointer;\\n}\\n\\n.contact-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    width: 40px;\\n    height: 40px;\\n    border-radius: 50%;\\n    object-fit: cover;\\n    margin-right: 15px;\\n}\\n\\n.contact-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    margin: 0;\\n    font-size: 16px;\\n    font-weight: 500;\\n}\\n\\n.status[_ngcontent-%COMP%] {\\n    font-size: 13px;\\n    color: #757575;\\n}\\n\\n.chat-actions[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 20px;\\n}\\n\\n.chat-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    color: #54656f;\\n    cursor: pointer;\\n}\\n\\n.messages-container[_ngcontent-%COMP%] {\\n    flex: 1;\\n    padding: 16px;\\n    overflow-y: auto;\\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmMGYyZjUiIC8+CiAgPHBhdGggZD0iTTAgMCBMMjAwIDIwMCBNMjAwIDAgTDAgMjAwIiBzdHJva2U9IiNlYmVlZjIiIHN0cm9rZS13aWR0aD0iMSIgLz4KPC9zdmc+');\\n    display: flex;\\n    flex-direction: column-reverse;\\n}\\n\\n.messages-date[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin: 10px 0;\\n    font-size: 12px;\\n    color: #7d8999;\\n    background-color: rgba(225, 245, 254, 0.92);\\n    padding: 5px 12px;\\n    border-radius: 7px;\\n    width: -moz-fit-content;\\n    width: fit-content;\\n    align-self: center;\\n}\\n\\n.message-wrapper[_ngcontent-%COMP%] {\\n    display: flex;\\n    margin-bottom: 8px;\\n}\\n\\n.message-wrapper.outgoing[_ngcontent-%COMP%] {\\n    justify-content: flex-end;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n    max-width: 65%;\\n    padding: 8px 12px;\\n    border-radius: 7.5px;\\n    position: relative;\\n    box-shadow: 0 1px 0.5px rgba(0, 0, 0, 0.13);\\n}\\n\\n.message-wrapper[_ngcontent-%COMP%]:not(.outgoing)   .message[_ngcontent-%COMP%] {\\n    background-color: white;\\n    border-top-left-radius: 0;\\n}\\n\\n.message-wrapper.outgoing[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\\n    background-color: #dcf8c6;\\n    border-top-right-radius: 0;\\n}\\n\\n.message-content[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    line-height: 19px;\\n    margin-right: 40px;\\n    word-wrap: break-word;\\n}\\n\\n.message-meta[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    justify-content: flex-end;\\n    font-size: 11px;\\n    color: #8696a0;\\n    margin-top: 2px;\\n}\\n\\n.status-icon[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    margin-left: 4px;\\n    color: #5b68f2;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%] {\\n    display: flex;\\n    padding: 6px 12px;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    height: 8px;\\n    width: 8px;\\n    background-color: #b6b9c0;\\n    border-radius: 50%;\\n    display: inline-block;\\n    margin: 0 1px;\\n    animation: _ngcontent-%COMP%_bounce 1.3s linear infinite;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) {\\n    animation-delay: 0.15s;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3) {\\n    animation-delay: 0.3s;\\n}\\n\\n@keyframes _ngcontent-%COMP%_bounce {\\n\\n    0%,\\n    60%,\\n    100% {\\n        transform: translateY(0);\\n    }\\n\\n    30% {\\n        transform: translateY(-4px);\\n    }\\n}\\n\\n.chat-input-area[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    padding: 10px 16px;\\n    background-color: #f0f0f0;\\n    border-top: 1px solid #e0e0e0;\\n}\\n\\n.input-actions[_ngcontent-%COMP%] {\\n    display: flex;\\n    margin-right: 10px;\\n}\\n\\n.input-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    color: #54656f;\\n    margin-right: 10px;\\n    cursor: pointer;\\n}\\n\\n.message-input[_ngcontent-%COMP%] {\\n    flex: 1;\\n    background-color: var(--color-primary);\\n    border-radius: 21px;\\n    padding: 9px 12px;\\n}\\n\\n.message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border: none;\\n    outline: none;\\n    font-size: 15px;\\n    background-color: var(--color-primary);\\n}\\n\\n.send-button[_ngcontent-%COMP%] {\\n    margin-left: 10px;\\n    width: 40px;\\n    height: 40px;\\n    border-radius: 50%;\\n    background-color: #5b68f2;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    cursor: pointer;\\n}\\n\\n.send-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    color: white;\\n}\\n\\n\\n\\n.dark-mode[_nghost-%COMP%]   .chat-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .chat-area[_ngcontent-%COMP%] {\\n    background-color: var(--color-bg);\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .chat-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .chat-header[_ngcontent-%COMP%] {\\n    background-color: #1f1f1f;\\n    border-bottom-color: #2d2d2d;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .chat-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .chat-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .input-actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    color: #b0b3b8;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .messages-container[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .messages-container[_ngcontent-%COMP%] {\\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiMxMjEyMTIiIC8+CiAgPHBhdGggZD0iTTAgMCBMMjAwIDIwMCBNMjAwIDAgTDAgMjAwIiBzdHJva2U9IiMyYTJhMmEiIHN0cm9rZS13aWR0aD0iMSIgLz4KPC9zdmc+');\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .messages-date[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .messages-date[_ngcontent-%COMP%] {\\n    background-color: rgba(30, 45, 60, 0.92);\\n    color: #b0b3b8;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .message-wrapper[_ngcontent-%COMP%]:not(.outgoing)   .message[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .message-wrapper[_ngcontent-%COMP%]:not(.outgoing)   .message[_ngcontent-%COMP%] {\\n    background-color: #2a2a2a;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .message-wrapper.outgoing[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .message-wrapper.outgoing[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\\n    background-color: #0b3d1e;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .chat-input-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .chat-input-area[_ngcontent-%COMP%] {\\n    background-color: #1f1f1f;\\n    border-top-color: #2d2d2d;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .message-input[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .message-input[_ngcontent-%COMP%] {\\n    background-color: #2a2a2a;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .message-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    background-color: transparent;\\n    color: #f5f5f5;\\n}\\n\\n.dark-mode[_nghost-%COMP%]   .send-button[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .send-button[_ngcontent-%COMP%] {\\n    background-color: #5b68f2;\\n}\\n\\n@media (max-width: 768px) {\\n    .back-button[_ngcontent-%COMP%] {\\n        display: block;\\n    }\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0L2NoYXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsOEJBQThCO0lBQzlCLGtCQUFrQjtJQUNsQixzQ0FBc0M7SUFDdEMsZ0NBQWdDO0lBQ2hDLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxTQUFTO0lBQ1QsZUFBZTtJQUNmLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFNBQVM7QUFDYjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBO0lBQ0ksT0FBTztJQUNQLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsMlZBQTJWO0lBQzNWLGFBQWE7SUFDYiw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsY0FBYztJQUNkLGVBQWU7SUFDZixjQUFjO0lBQ2QsMkNBQTJDO0lBQzNDLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsdUJBQWtCO0lBQWxCLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixvQkFBb0I7SUFDcEIsa0JBQWtCO0lBQ2xCLDJDQUEyQztBQUMvQzs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2Qix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsMEJBQTBCO0FBQzlCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix5QkFBeUI7SUFDekIsZUFBZTtJQUNmLGNBQWM7SUFDZCxlQUFlO0FBQ25COztBQUVBO0lBQ0ksZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxVQUFVO0lBQ1YseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixxQkFBcUI7SUFDckIsYUFBYTtJQUNiLHNDQUFzQztBQUMxQzs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTs7SUFFSTs7O1FBR0ksd0JBQXdCO0lBQzVCOztJQUVBO1FBQ0ksMkJBQTJCO0lBQy9CO0FBQ0o7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLE9BQU87SUFDUCxzQ0FBc0M7SUFDdEMsbUJBQW1CO0lBQ25CLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osYUFBYTtJQUNiLGVBQWU7SUFDZixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBLHFCQUFxQjtBQUNyQjtJQUNJLGlDQUFpQztBQUNyQzs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6Qiw0QkFBNEI7QUFDaEM7O0FBRUE7O0lBRUksY0FBYztBQUNsQjs7QUFFQTtJQUNJLDJWQUEyVjtBQUMvVjs7QUFFQTtJQUNJLHdDQUF3QztJQUN4QyxjQUFjO0FBQ2xCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLDZCQUE2QjtJQUM3QixjQUFjO0FBQ2xCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0k7UUFDSSxjQUFjO0lBQ2xCO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hhdC1hcmVhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxufVxyXG5cclxuLmNoYXQtaGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgcGFkZGluZzogMTBweCAxNnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UwZTBlMDtcclxuICAgIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5jaGF0LWNvbnRhY3QtaW5mbyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmJhY2stYnV0dG9uIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XHJcbn1cclxuXHJcbi5iYWNrLWJ1dHRvbiBpIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmNvbnRhY3QtYXZhdGFyIGltZyB7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xyXG59XHJcblxyXG4uY29udGFjdC1kZXRhaWxzIGgzIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbn1cclxuXHJcbi5zdGF0dXMge1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgY29sb3I6ICM3NTc1NzU7XHJcbn1cclxuXHJcbi5jaGF0LWFjdGlvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMjBweDtcclxufVxyXG5cclxuLmNoYXQtYWN0aW9ucyBpIHtcclxuICAgIGNvbG9yOiAjNTQ2NTZmO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ubWVzc2FnZXMtY29udGFpbmVyIHtcclxuICAgIGZsZXg6IDE7XHJcbiAgICBwYWRkaW5nOiAxNnB4O1xyXG4gICAgb3ZlcmZsb3cteTogYXV0bztcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TURBaUlHaGxhV2RvZEQwaU1qQXdJaUIyYVdWM1FtOTRQU0l3SURBZ01qQXdJREl3TUNJK0NpQWdQSEpsWTNRZ2QybGtkR2c5SWpJd01DSWdhR1ZwWjJoMFBTSXlNREFpSUdacGJHdzlJaU5tTUdZeVpqVWlJQzgrQ2lBZ1BIQmhkR2dnWkQwaVRUQWdNQ0JNTWpBd0lESXdNQ0JOTWpBd0lEQWdUREFnTWpBd0lpQnpkSEp2YTJVOUlpTmxZbVZsWmpJaUlITjBjbTlyWlMxM2FXUjBhRDBpTVNJZ0x6NEtQQzl6ZG1jKycpO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTtcclxufVxyXG5cclxuLm1lc3NhZ2VzLWRhdGUge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgbWFyZ2luOiAxMHB4IDA7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBjb2xvcjogIzdkODk5OTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjI1LCAyNDUsIDI1NCwgMC45Mik7XHJcbiAgICBwYWRkaW5nOiA1cHggMTJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDdweDtcclxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxufVxyXG5cclxuLm1lc3NhZ2Utd3JhcHBlciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG59XHJcblxyXG4ubWVzc2FnZS13cmFwcGVyLm91dGdvaW5nIHtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbn1cclxuXHJcbi5tZXNzYWdlIHtcclxuICAgIG1heC13aWR0aDogNjUlO1xyXG4gICAgcGFkZGluZzogOHB4IDEycHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA3LjVweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJveC1zaGFkb3c6IDAgMXB4IDAuNXB4IHJnYmEoMCwgMCwgMCwgMC4xMyk7XHJcbn1cclxuXHJcbi5tZXNzYWdlLXdyYXBwZXI6bm90KC5vdXRnb2luZykgLm1lc3NhZ2Uge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xyXG59XHJcblxyXG4ubWVzc2FnZS13cmFwcGVyLm91dGdvaW5nIC5tZXNzYWdlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkY2Y4YzY7XHJcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcclxufVxyXG5cclxuLm1lc3NhZ2UtY29udGVudCB7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBsaW5lLWhlaWdodDogMTlweDtcclxuICAgIG1hcmdpbi1yaWdodDogNDBweDtcclxuICAgIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxufVxyXG5cclxuLm1lc3NhZ2UtbWV0YSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICBjb2xvcjogIzg2OTZhMDtcclxuICAgIG1hcmdpbi10b3A6IDJweDtcclxufVxyXG5cclxuLnN0YXR1cy1pY29uIHtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIG1hcmdpbi1sZWZ0OiA0cHg7XHJcbiAgICBjb2xvcjogIzViNjhmMjtcclxufVxyXG5cclxuLnR5cGluZy1pbmRpY2F0b3Ige1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIHBhZGRpbmc6IDZweCAxMnB4O1xyXG59XHJcblxyXG4udHlwaW5nLWluZGljYXRvciBzcGFuIHtcclxuICAgIGhlaWdodDogOHB4O1xyXG4gICAgd2lkdGg6IDhweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiNmI5YzA7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBtYXJnaW46IDAgMXB4O1xyXG4gICAgYW5pbWF0aW9uOiBib3VuY2UgMS4zcyBsaW5lYXIgaW5maW5pdGU7XHJcbn1cclxuXHJcbi50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDIpIHtcclxuICAgIGFuaW1hdGlvbi1kZWxheTogMC4xNXM7XHJcbn1cclxuXHJcbi50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDMpIHtcclxuICAgIGFuaW1hdGlvbi1kZWxheTogMC4zcztcclxufVxyXG5cclxuQGtleWZyYW1lcyBib3VuY2Uge1xyXG5cclxuICAgIDAlLFxyXG4gICAgNjAlLFxyXG4gICAgMTAwJSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xyXG4gICAgfVxyXG5cclxuICAgIDMwJSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xyXG4gICAgfVxyXG59XHJcblxyXG4uY2hhdC1pbnB1dC1hcmVhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweCAxNnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTBlMGUwO1xyXG59XHJcblxyXG4uaW5wdXQtYWN0aW9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4uaW5wdXQtYWN0aW9ucyBpIHtcclxuICAgIGNvbG9yOiAjNTQ2NTZmO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dCB7XHJcbiAgICBmbGV4OiAxO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyMXB4O1xyXG4gICAgcGFkZGluZzogOXB4IDEycHg7XHJcbn1cclxuXHJcbi5tZXNzYWdlLWlucHV0IGlucHV0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xyXG59XHJcblxyXG4uc2VuZC1idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIGhlaWdodDogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1YjY4ZjI7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uc2VuZC1idXR0b24gaSB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi8qIERhcmsgbW9kZSBzdHlsZXMgKi9cclxuOmhvc3QtY29udGV4dCguZGFyay1tb2RlKSAuY2hhdC1hcmVhIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJnKTtcclxufVxyXG5cclxuOmhvc3QtY29udGV4dCguZGFyay1tb2RlKSAuY2hhdC1oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFmMWYxZjtcclxuICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICMyZDJkMmQ7XHJcbn1cclxuXHJcbjpob3N0LWNvbnRleHQoLmRhcmstbW9kZSkgLmNoYXQtYWN0aW9ucyBpLFxyXG46aG9zdC1jb250ZXh0KC5kYXJrLW1vZGUpIC5pbnB1dC1hY3Rpb25zIGkge1xyXG4gICAgY29sb3I6ICNiMGIzYjg7XHJcbn1cclxuXHJcbjpob3N0LWNvbnRleHQoLmRhcmstbW9kZSkgLm1lc3NhZ2VzLWNvbnRhaW5lciB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1EQWlJR2hsYVdkb2REMGlNakF3SWlCMmFXVjNRbTk0UFNJd0lEQWdNakF3SURJd01DSStDaUFnUEhKbFkzUWdkMmxrZEdnOUlqSXdNQ0lnYUdWcFoyaDBQU0l5TURBaUlHWnBiR3c5SWlNeE1qRXlNVElpSUM4K0NpQWdQSEJoZEdnZ1pEMGlUVEFnTUNCTU1qQXdJREl3TUNCTk1qQXdJREFnVERBZ01qQXdJaUJ6ZEhKdmEyVTlJaU15WVRKaE1tRWlJSE4wY205clpTMTNhV1IwYUQwaU1TSWdMejRLUEM5emRtYysnKTtcclxufVxyXG5cclxuOmhvc3QtY29udGV4dCguZGFyay1tb2RlKSAubWVzc2FnZXMtZGF0ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDMwLCA0NSwgNjAsIDAuOTIpO1xyXG4gICAgY29sb3I6ICNiMGIzYjg7XHJcbn1cclxuXHJcbjpob3N0LWNvbnRleHQoLmRhcmstbW9kZSkgLm1lc3NhZ2Utd3JhcHBlcjpub3QoLm91dGdvaW5nKSAubWVzc2FnZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmEyYTJhO1xyXG59XHJcblxyXG46aG9zdC1jb250ZXh0KC5kYXJrLW1vZGUpIC5tZXNzYWdlLXdyYXBwZXIub3V0Z29pbmcgLm1lc3NhZ2Uge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBiM2QxZTtcclxufVxyXG5cclxuOmhvc3QtY29udGV4dCguZGFyay1tb2RlKSAuY2hhdC1pbnB1dC1hcmVhIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7XHJcbiAgICBib3JkZXItdG9wLWNvbG9yOiAjMmQyZDJkO1xyXG59XHJcblxyXG46aG9zdC1jb250ZXh0KC5kYXJrLW1vZGUpIC5tZXNzYWdlLWlucHV0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMyYTJhMmE7XHJcbn1cclxuXHJcbjpob3N0LWNvbnRleHQoLmRhcmstbW9kZSkgLm1lc3NhZ2UtaW5wdXQgaW5wdXQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBjb2xvcjogI2Y1ZjVmNTtcclxufVxyXG5cclxuOmhvc3QtY29udGV4dCguZGFyay1tb2RlKSAuc2VuZC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzViNjhmMjtcclxufVxyXG5cclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgICAuYmFjay1idXR0b24ge1xyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgfVxyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","Message","Subscription","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r5","util","getStatusIcon","message_r4","status","ɵɵtemplate","ChatComponent_div_0_div_24_i_8_Template","ɵɵclassProp","to","ctx_r3","activeContact","id","content","body","ɵɵpipeBind2","timestamp","ɵɵproperty","ɵɵelement","ChatComponent_div_0_div_24_Template","ɵɵlistener","ChatComponent_div_0_Template_input_ngModelChange_32_listener","$event","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","message","ChatComponent_div_0_Template_input_keyup_enter_32_listener","ctx_r9","sendMessage","ChatComponent_div_0_Template_input_keydown_32_listener","ctx_r10","onTyping","ChatComponent_div_0_Template_div_click_33_listener","ctx_r11","ctx_r0","profilePicture","ɵɵsanitizeUrl","name","state","messages","trackByMessageId","newMessage","ɵɵelementContainerStart","ɵɵelementContainerEnd","ChatComponent","constructor","services_ws","ctS","isDarkMode","sendMessage2","statusCurrentUser","isTyping","subscriptions","typingSubscription","ngOnChanges","changes","getMessages","subscribe","next","data","ngOnInit","initializeWebSocketConnection","add","message$","msg","from","unshift","ngAfterViewChecked","unsubscribe","typing$","typingMsg","console","log","setTimeout","formatLastSeen","lastSeen","messagesContainer","nativeElement","scrollToBottom","scrollTop","scrollHeight","err","error","index","sendTypingNotification","ngOnDestroy","disconnect","ɵɵdirectiveInject","i1","WsService","i2","ChatService","i3","UtilsService","selectors","viewQuery","ChatComponent_Query","rf","ctx","ChatComponent_div_0_Template","ChatComponent_ng_container_1_Template"],"sources":["C:\\Users\\Elvis Rosa\\Desktop\\Proyectos Spring\\chatbot\\chat\\src\\app\\components\\chat\\chat.component.ts","C:\\Users\\Elvis Rosa\\Desktop\\Proyectos Spring\\chatbot\\chat\\src\\app\\components\\chat\\chat.component.html"],"sourcesContent":["import { AfterViewChecked, Component, ElementRef, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges, ViewChild } from '@angular/core';\nimport { Message } from 'src/app/models/Message';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { WsService } from 'src/app/services/ws.service';\nimport { Subject, Subscription } from 'rxjs';\nimport { UtilsService } from 'src/app/services/utils.service';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit, AfterViewChecked, OnChanges {\n\n  public message: Message = new Message();\n  public messages: Message[] = [];\n  @Input() activeContact: any | undefined\n  @Input() isDarkMode = false\n  @Output() sendMessage2 = new EventEmitter<string>()\n  statusCurrentUser: string = '';\n  private subscriptions?: Subscription;\n  private typingSubscription?: Subscription;\n\n\n  @ViewChild(\"messagesContainer\") private messagesContainer!: ElementRef\n\n  newMessage = \"\"\n  state: String = ''\n  isTyping = false;\n\n  constructor(private services_ws: WsService, private ctS: ChatService, public util: UtilsService) {\n    this.subscriptions = new Subscription();\n    this.typingSubscription = new Subscription();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['activeContact'] && this.activeContact) {\n      this.ctS.getMessages(this.activeContact.id).subscribe({\n        next: (data) => {\n          this.messages = data;\n        }\n      });\n    }\n  }\n\n  ngOnInit(): void {\n    this.services_ws.initializeWebSocketConnection();\n    this.subscriptions?.add(\n      this.services_ws.message$.subscribe((msg: Message) => {\n        if (msg.from === this.activeContact?.id || msg.to === this.activeContact?.id) {\n          this.messages.unshift(msg)\n        }\n      }))\n\n  }\n\n  ngAfterViewChecked() {\n    this.typingSubscription?.unsubscribe();\n    this.typingSubscription = this.services_ws.typing$.subscribe((typingMsg: string) => {\n      console.log('Devolvió un tipo ', typingMsg);\n      if (typingMsg === 'typing') {\n        this.state = 'Escribiendo...';\n        this.isTyping = true;\n        setTimeout(() => {\n          this.state = 'En línea';\n          this.isTyping = false;\n        }, 3000);\n      } else if (typingMsg === 'online') {\n        this.state = 'En línea';\n      } else {\n        this.state = this.util.formatLastSeen(this.activeContact?.lastSeen)\n      }\n    });\n\n    if (this.messagesContainer && this.messagesContainer.nativeElement) {\n      this.scrollToBottom();\n    }\n    // const bottom = this.messagesContainer.nativeElement.scrollHeight === this.messagesContainer.nativeElement.scrollTop + this.messagesContainer.nativeElement.clientHeight;\n    // if (bottom) {\n    //   const unreadMessages = this.messages.filter(msg => msg.status !== 'read');\n    //   console.log(unreadMessages)\n    //   const messageIdsToMarkAsRead = unreadMessages.map(msg => msg.id);\n    //   if (messageIdsToMarkAsRead.length > 0) {\n    //     this.ctS.markMessagesAsRead(messageIdsToMarkAsRead).subscribe(() => {\n    //       unreadMessages.forEach(msg => msg.status = 'read');\n    //     });\n    //   }\n    // }\n  }\n\n  scrollToBottom(): void {\n    try {\n      if (this.messagesContainer?.nativeElement) {\n        this.messagesContainer.nativeElement.scrollTop = this.messagesContainer.nativeElement.scrollHeight;\n      }\n    } catch (err) {\n      console.error('Error al hacer scroll:', err);\n    }\n  }\n\n  sendMessage(): void {\n    this.message.to = this.activeContact.id;\n    this.services_ws.sendMessage(this.message)\n    this.message = new Message()\n  }\n\n  trackByMessageId(index: number, message: any): string {\n    return message.id; // o message.id si ese es el campo único\n  }\n\n  onTyping(): void {\n    if (this.activeContact) {\n      this.services_ws.sendTypingNotification(this.activeContact, 'typing');\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.services_ws.disconnect()\n    this.subscriptions?.unsubscribe();\n    this.typingSubscription?.unsubscribe();\n  }\n\n}\n","<div class=\"chat-area\" *ngIf=\"activeContact\">\n    <div class=\"chat-header\">\n        <div class=\"chat-contact-info\">\n            <div class=\"back-button\">\n                <i class=\"material-icons\">arrow_back</i>\n            </div>\n            <div class=\"contact-avatar\">\n                <img [src]=\"activeContact?.profilePicture\" [alt]=\"activeContact?.name\" />\n            </div>\n            <div class=\"contact-details\">\n                <h3>{{ activeContact?.name }}</h3>\n                <span class=\"status\">{{ state }}</span>\n            </div>\n        </div>\n        <div class=\"chat-actions\">\n            <i class=\"material-icons\">videocam</i>\n            <i class=\"material-icons\">call</i>\n            <i class=\"material-icons\">more_vert</i>\n        </div>\n    </div>\n\n    <div class=\"messages-date\">Hoy</div>\n\n    <div class=\"messages-container\" #messagesContainer>\n        <div *ngFor=\"let message of messages; trackBy: trackByMessageId\" class=\"message-wrapper\"\n            [class.outgoing]=\"message.to === activeContact?.id\">\n            <div class=\"message\">\n                <div class=\"message-content\">{{ message.content?.body }}</div>\n                <div class=\"message-meta\">\n                    <span class=\"message-time\">{{ message.timestamp | date: 'hh:mm a' }}</span>\n                    <i *ngIf=\"true\" class=\"material-icons status-icon\">{{ util.getStatusIcon(message.status) }}</i>\n                </div>\n            </div>\n        </div>\n\n        <!--<div *ngIf=\"true\" class=\"message-wrapper\">\n            <div class=\"message\">\n                <div class=\"typing-indicator\">\n                    <span></span>\n                    <span></span>\n                    <span></span>\n                </div>\n            </div>\n        </div>-->\n    </div>\n\n    <div class=\"chat-input-area\">\n        <div class=\"input-actions\">\n            <i class=\"material-icons\">emoji_emotions</i>\n            <i class=\"material-icons\">attach_file</i>\n        </div>\n        <div class=\"message-input\">\n            <input type=\"text\" placeholder=\"Escribe un mensaje\" [(ngModel)]=\"message.content\"\n                (keyup.enter)=\"sendMessage()\" (keydown)=\"onTyping()\" />\n        </div>\n        <div class=\"send-button\" (click)=\"sendMessage()\">\n            <i class=\"material-icons\">{{ newMessage ? 'send' : 'mic' }}</i>\n        </div>\n    </div>\n</div>\n\n<ng-container *ngIf=\"!activeContact\">\n    Descarga la App disponible en la Play Store\n</ng-container>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}